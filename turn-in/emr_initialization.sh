export AWS_ACCESS_KEY_ID=ASIASKM4G45MOPE56MCH
export AWS_SECRET_ACCESS_KEY=v90nqjTYFa8hLw6+B1ybQZdv9L4ZbIgjOtq5s7tp
export AWS_SESSION_TOKEN=FwoGZXIvYXdzEMD//////////wEaDPc6A6QeJSHdoa4N9iKrAU/76WtH8daE6UpvYEAoRM3EwkxVilct6UrS52Sxkdy73fRGSpX56VlqiFKjCOb8SHMZU2so8Oq2CaS6G6Y69ucCHBsMlJKKF8ZCCJkW4/UmV0aGxYNwgUU247tLNOhtwuGtWuq76Xo9kZqr8RoseoHR+9GULUd82WakgcvQwbz+WSr0cgsj9aQkuB5DeoNR+oYUB3LH4RPawmhzYyneEo+fMv8LoSgDPe/u9Sjxl8KFBjIt77rRiPrqFJvJXgEc3zrOZEFi/qO8QYf/nJTv0ARJt6nUhud7ALZboQYpYlSc

aws emr create-cluster --name "label_prep" --applications Name=Hadoop Name=Hive Name=Pig Name=Hue Name=JupyterHub Name=JupyterEnterpriseGateway Name=Spark --ec2-attributes '{"KeyName":"colin_key","InstanceProfile":"EMR_EC2_DefaultRole"}' --release-label emr-6.3.0 --log-uri 's3n://aws-logs-label_prep-us-west-2/elasticmapreduce/' --instance-type m5.xlarge --instance-count 3 --configurations '[{"Classification":"spark-hive-site","Properties":{"hive.metastore.client.factory.class":"com.amazonaws.glue.catalog.metastore.AWSGlueDataCatalogHiveClientFactory"}}]' --auto-scaling-role EMR_AutoScaling_DefaultRole --ebs-root-volume-size 10 --service-role EMR_DefaultRole --enable-debugging --scale-down-behavior TERMINATE_AT_TASK_COMPLETION --steps Type=Spark,Name="Spark application",ActionOnFailure=CONTINUE,Args=[--deploy-mode,cluster,--master,yarn,s3://ds102-dsc01-scratch/label_prep.py] --region us-west-2